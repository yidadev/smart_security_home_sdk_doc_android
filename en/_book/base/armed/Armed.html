
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Arm & disarm Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="../modesetting/ModeSetting.html" />
    
    
    <link rel="prev" href="../" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    Preface
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../../prepare/FunctionsOverview.html">
            
                <a href="../../prepare/FunctionsOverview.html">
            
                    
                    Features Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../../prepare/Preparation.html">
            
                <a href="../../prepare/Preparation.html">
            
                    
                    Preparation for Integration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../../prepare/integrateSDK.html">
            
                <a href="../../prepare/integrateSDK.html">
            
                    
                    Integrate SDK
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../../prepare/description.html">
            
                <a href="../../prepare/description.html">
            
                    
                    Demo App
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../../login/User.html">
            
                <a href="../../login/User.html">
            
                    
                    Security Users
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../../login/Login.html">
            
                <a href="../../login/Login.html">
            
                    
                    Register & Service
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../../homesdkbase/homesdkbase.html">
            
                <a href="../../homesdkbase/homesdkbase.html">
            
                    
                    Tuya Basical Skills
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../../homesdkbase/familymanager.html">
            
                <a href="../../homesdkbase/familymanager.html">
            
                    
                    Family Management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="../../homesdkbase/homesdkdevice.html">
            
                <a href="../../homesdkbase/homesdkdevice.html">
            
                    
                    Device Configuration & Management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="../../homesdkbase/group.html">
            
                <a href="../../homesdkbase/group.html">
            
                    
                    Group Management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.4" data-path="../../homesdkbase/push.html">
            
                <a href="../../homesdkbase/push.html">
            
                    
                    Integrated Push
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../">
            
                <a href="../">
            
                    
                    Tuya Security Skills
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="1.8.1" data-path="Armed.html">
            
                <a href="Armed.html">
            
                    
                    Arm & disarm
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="../modesetting/ModeSetting.html">
            
                <a href="../modesetting/ModeSetting.html">
            
                    
                    Mode settings
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="../emergency/Emergency.html">
            
                <a href="../emergency/Emergency.html">
            
                    
                    Emergency Contact
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4" data-path="../alarm/Alarm.html">
            
                <a href="../alarm/Alarm.html">
            
                    
                    Alarm
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="../../sence_msg/">
            
                <a href="../../sence_msg/">
            
                    
                    Security Scene & News
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="../../sence_msg/sence/Sence.html">
            
                <a href="../../sence_msg/sence/Sence.html">
            
                    
                    Scene
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2" data-path="../../sence_msg/geofence/Geofence.html">
            
                <a href="../../sence_msg/geofence/Geofence.html">
            
                    
                    Geofence
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3" data-path="../../sence_msg/event_binding/Event.html">
            
                <a href="../../sence_msg/event_binding/Event.html">
            
                    
                    Event Recording
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.4" data-path="../../sence_msg/armed_reminder/Reminder.html">
            
                <a href="../../sence_msg/armed_reminder/Reminder.html">
            
                    
                    Arm Reminder
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.5" data-path="../../sence_msg/msg/Message.html">
            
                <a href="../../sence_msg/msg/Message.html">
            
                    
                    News
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >Arm & disarm</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h3 id="alarm">Alarm</h3>
<h4 id="obtain-the-arm-and-disarm-sdk">Obtain the arm and disarm SDK</h4>
<pre><code class="lang-java">ITuyaSecurityBaseSdk mTuyaSecurityBaseSdk = TuyaOptimusSdk.getManager(ITuyaSecurityBaseSdk.class)
</code></pre>
<h5 id="gatewaymodebean-field-information">GatewayModeBean field information</h5>
<table>
<thead>
<tr>
<th>Field</th>
<th>Types of</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>state</td>
<td>int</td>
<td>Arming and disarming execution state (0: initial state; 1: start task; 2: continue task; 3: terminate task; 4: all success; 5: all failure; 6: part of abnormal state)</td>
</tr>
<tr>
<td>mode</td>
<td>int</td>
<td>Armed and disarmed state (0: disarmed; 1: at home; 2: away from home)</td>
</tr>
<tr>
<td>majorId</td>
<td>String</td>
<td>Home main gateway ID</td>
</tr>
<tr>
<td>detail</td>
<td>List</td>
<td>Gateway list details</td>
</tr>
</tbody>
</table>
<h5 id="gatewaydetailbean-field-information">GatewayDetailBean field information</h5>
<table>
<thead>
<tr>
<th>Field</th>
<th>Types of</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>gwId</td>
<td>String</td>
<td>Gateway ID</td>
</tr>
<tr>
<td>state</td>
<td>int</td>
<td>Gateway status (0: abnormal; 1: normal)</td>
</tr>
</tbody>
</table>
<h5 id="bypassdetailbean-field-information">BypassDetailBean field information</h5>
<table>
<thead>
<tr>
<th>Field</th>
<th>Types of</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>gwId</td>
<td>String</td>
<td>Gateway ID</td>
</tr>
<tr>
<td>state</td>
<td>int</td>
<td>Gateway status (0: abnormal; 1: normal)</td>
</tr>
<tr>
<td>bypass</td>
<td>List</td>
<td>Bypass device nodeID list</td>
</tr>
</tbody>
</table>
<h5 id="bypassdetailbean-field-information">BypassDetailBean field information</h5>
<table>
<thead>
<tr>
<th>Field</th>
<th>Types of</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>gwId</td>
<td>String</td>
<td>Gateway ID</td>
</tr>
<tr>
<td>state</td>
<td>int</td>
<td>Gateway status (0: abnormal; 1: normal)</td>
</tr>
<tr>
<td>ignore</td>
<td>List</td>
<td>Ignore the device nodeID list</td>
</tr>
</tbody>
</table>
<h5 id="homeinfobean-field-information">HomeInfoBean field information</h5>
<table>
<thead>
<tr>
<th>Field</th>
<th>Types of</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>homeId</td>
<td>String</td>
<td>Family ID</td>
</tr>
<tr>
<td>mode</td>
<td>int</td>
<td>Home Armed and Disarmed State</td>
</tr>
<tr>
<td>alarmState</td>
<td>int</td>
<td>Family alarm status (0: normal; 1: alarm)</td>
</tr>
<tr>
<td>alarmVoice</td>
<td>int</td>
<td>Home alarm sound status (0: mute; 1: alarm)</td>
</tr>
<tr>
<td>alarmCountdown</td>
<td>long</td>
<td>Alarm countdown</td>
</tr>
</tbody>
</table>
<h5 id="tysecuritymodeerrortype-field-information">TYSecurityModeErrorType field information</h5>
<table>
<thead>
<tr>
<th>Field</th>
<th>Types of</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>QueryModeError</td>
<td>Enum</td>
<td>Failed to query the arming status</td>
</tr>
<tr>
<td>SwitchModeError</td>
<td>Enum</td>
<td>Failed to switch arming state</td>
</tr>
<tr>
<td>QueryIgnoreDeviceError</td>
<td>Enum</td>
<td>Ignore device query failure</td>
</tr>
<tr>
<td>QueryBypassDeviceError</td>
<td>Enum</td>
<td>Bypass device query failed</td>
</tr>
<tr>
<td>QueryAbnormalDeviceError</td>
<td>Enum</td>
<td>Failed to query abnormal device</td>
</tr>
</tbody>
</table>
<h5 id="mqtt-52-protocol-callback-monitoring">Mqtt 52 protocol callback monitoring</h5>
<p>Register Mqtt52 protocol listener</p>
<pre><code class="lang-java">mTuyaSecurityBaseSdk.newGatewayInstance(mHomeId).registerProtocolListener(mTuyaProtocolListener)
</code></pre>
<p>Destroy the Mqtt52 protocol listener</p>
<pre><code class="lang-java">mTuyaSecurityBaseSdk.newGatewayInstance(mHomeId).unRegisterProtocolListener(mTuyaProtocolListener)
</code></pre>
<p>Reference interface <strong>ITuyaProtocolListener</strong></p>
<table>
<thead>
<tr>
<th>Method name</th>
<th>Method description</th>
</tr>
</thead>
<tbody>
<tr>
<td>onProcessBypassNotice</td>
<td>Handling Bypass device notifications</td>
</tr>
<tr>
<td>onProcessArmResultNotice</td>
<td>Handle the notification of successful arm and disarm</td>
</tr>
<tr>
<td>onProcessArmCountDownNotice</td>
<td>Handle the countdown notification</td>
</tr>
<tr>
<td>onProcessAlarmCountDownNotice</td>
<td>Handle alarm countdown notification</td>
</tr>
<tr>
<td>onProcessTamperAlarmNotice</td>
<td>Handling anti-tamper alarm notifications</td>
</tr>
<tr>
<td>onProcessAddGatewayNotice</td>
<td>Processing the notification of adding a gateway</td>
</tr>
<tr>
<td>onProcessNewAlarmNotice</td>
<td>Processing new alarm notification</td>
</tr>
<tr>
<td>onProcessUpdateAlarmNotice</td>
<td>Processing alarm update notification</td>
</tr>
<tr>
<td>onProcessAlarmStateNotice</td>
<td>Processing alarm status notification</td>
</tr>
<tr>
<td>onProcessAlarmVoiceNotice</td>
<td>Processing alarm sound notification</td>
</tr>
</tbody>
</table>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">ITuyaProtocolListener</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">onProcessBypassNotice</span><span class="hljs-params">(NormalResult result)</span></span>;

    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">onProcessArmResultNotice</span><span class="hljs-params">(NormalResult result)</span></span>;

    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">onProcessArmCountDownNotice</span><span class="hljs-params">(CountDownResult result)</span></span>;

    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">onProcessAlarmCountDownNotice</span><span class="hljs-params">(CountDownResult result)</span></span>;


    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">onProcessTamperAlarmNotice</span><span class="hljs-params">()</span></span>;

    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">onProcessAddGatewayNotice</span><span class="hljs-params">()</span></span>;

    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">onProcessNewAlarmNotice</span><span class="hljs-params">(AlarmResult result)</span></span>;

    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">onProcessUpdateAlarmNotice</span><span class="hljs-params">()</span></span>;

    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">onProcessAlarmStateNotice</span><span class="hljs-params">(AlarmResult result)</span></span>;

    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">onProcessAlarmVoiceNotice</span><span class="hljs-params">(AlarmResult result)</span></span>;
}
</code></pre>
<h5 id="security-gateway-monitoring-callback">Security gateway monitoring callback</h5>
<p>Register Security Gateway Listener</p>
<pre><code class="lang-java">mTuyaSecurityBaseSdk.newGatewayInstance(mHomeId).registerGatewayListener(mTuyaGatewayListener)
</code></pre>
<p>Destroy the security gateway listener</p>
<pre><code class="lang-java">mTuyaSecurityBaseSdk.newGatewayInstance(mHomeId).unRegisterGatewayListener(mTuyaGatewayListener)
</code></pre>
<p>Reference interface <strong>ITuyaGatewayListener</strong></p>
<table>
<thead>
<tr>
<th>Method name</th>
<th>Method description</th>
</tr>
</thead>
<tbody>
<tr>
<td>onSecurityModeWillSwitchAfterDelay</td>
<td>Get the countdown after arming and disarming switch from the gateway</td>
</tr>
<tr>
<td>didReceiveUnusualDevice</td>
<td>Get a list of ignored devices from the cloud</td>
</tr>
<tr>
<td>onIgnoreDeviceFromGateway</td>
<td>Get the list of ignored devices from the gateway</td>
</tr>
</tbody>
</table>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">ITuyaGatewayListener</span> </span>{

    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">onSecurityModeWillSwitchAfterDelay</span><span class="hljs-params">(<span class="hljs-keyword">int</span> countDownTime)</span></span>;
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">didReceiveUnusualDevice</span><span class="hljs-params">(ArrayList&lt;String&gt; deviceIds)</span></span>;

    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">onIgnoreDeviceFromGateway</span><span class="hljs-params">(JSONArray devices)</span></span>;

}
</code></pre>
<h3 id="get-a-list-of-gateways">Get a list of gateways</h3>
<h5 id="interface-description">Interface Description</h5>
<pre><code class="lang-java"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">getLocationGateWayDeviceWithHomeId</span><span class="hljs-params">(ITuyaResultCallback&lt;ArrayList&lt;String&gt;&gt; callback)</span>
</span></code></pre>
<h5 id="parameter-description">Parameter Description</h5>
<p>no</p>
<h5 id="sample-code">Sample code</h5>
<pre><code class="lang-java">mTuyaSecurityBaseSdk.newGatewayInstance(mHomeId).getLocationGateWayDeviceWithHomeId(<span class="hljs-keyword">new</span> ITuyaResultCallback&lt;ArrayList&lt;String&gt;&gt;() {
            <span class="hljs-meta">@Override</span>
            <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onSuccess</span><span class="hljs-params">(ArrayList&lt;String&gt; result)</span> </span>{
                <span class="hljs-comment">// do something</span>
            }

            <span class="hljs-meta">@Override</span>
            <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onError</span><span class="hljs-params">(String errorCode, String errorMessage)</span> </span>{
                <span class="hljs-comment">// do something</span>
            }
        });
</code></pre>
<h3 id="switch-arm-and-disarm-mode">Switch arm and disarm mode</h3>
<h5 id="interface-description">Interface Description</h5>
<pre><code class="lang-java"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">switchHomeModeWithHomeId</span><span class="hljs-params">(String mode, ITuyaResultCallback&lt;String&gt; callback)</span>
</span></code></pre>
<h5 id="parameter-description">Parameter Description</h5>
<table>
<thead>
<tr>
<th>parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>mode</td>
<td>Armed and disarmed state (0: disarmed; 1: at home; 2: away from home)</td>
</tr>
</tbody>
</table>
<h5 id="sample-code">Sample code</h5>
<pre><code class="lang-java">mTuyaSecurityBaseSdk.newArmedInstance(mHomeId).switchHomeModeWithHomeId(mode,object :ITuyaResultCallback&lt;String&gt;{
        <span class="hljs-function">override fun <span class="hljs-title">onSuccess</span><span class="hljs-params">(result: String?)</span> </span>{
            <span class="hljs-comment">// do something</span>
        }

        <span class="hljs-function">override fun <span class="hljs-title">onError</span><span class="hljs-params">(errorCode: String?, errorMessage: String?)</span> </span>{
            <span class="hljs-comment">// do something</span>
        }

    })
</code></pre>
<h5 id="trigger-interface-callback">Trigger interface callback</h5>
<p>In the process of switching arming and disarming, if there is an ignored device, and the gateway needs to be queried locally, it will trigger the ArmedGatewayListener.onIgnoreDeviceFromGateway() method interface callback, and return the ignored device list collection</p>
<pre><code class="lang-java">mArmedGatewayListener.onIgnoreDeviceFromGateway(deviceIds);
</code></pre>
<p>Otherwise, the arming and disarming will be carried out directly, and the ITuyaProtocolListener.onProcessPreModeSwitchNotice() method interface callback will be triggered before the arming and disarming is executed, and the preconditioning state of the family&apos;s arming and disarming will be returned.</p>
<pre><code class="lang-java">mTuyaProtocolListener.onProcessPreModeSwitchNotice(result);
</code></pre>
<p>When the countdown of arming and disarming is completed, the arming and disarming is executed successfully, and the ITuyaProtocolListener.onProcessRealModeSwitchNotice() method interface callback will be triggered</p>
<pre><code class="lang-java">mTuyaProtocolListener.onProcessRealModeSwitchNotice(result);
</code></pre>
<h3 id="query-current-arm-and-disarm-status">Query current arm and disarm status</h3>
<h5 id="interface-description">Interface Description</h5>
<pre><code class="lang-java"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">getHomeModeWithHomeId</span><span class="hljs-params">(ITuyaResultCallback&lt;HomeModeGetBean&gt; callback)</span>
</span></code></pre>
<h5 id="parameter-description">Parameter Description</h5>
<p>no</p>
<h5 id="sample-code">Sample code</h5>
<pre><code class="lang-java">mTuyaSecurityBaseSdk.newArmedInstance(mHomeId).getHomeModeWithHomeId(object :ITuyaResultCallback&lt;HomeModeGetBean&gt;{
    <span class="hljs-function">override fun <span class="hljs-title">onSuccess</span><span class="hljs-params">(result: HomeModeGetBean?)</span> </span>{
        <span class="hljs-comment">// do something</span>
    }

    <span class="hljs-function">override fun <span class="hljs-title">onError</span><span class="hljs-params">(errorCode: String?, errorMessage: String?)</span> </span>{
        <span class="hljs-comment">// do something</span>
    }
})
</code></pre>
<h3 id="initiate-sos-alarm">Initiate SOS alarm</h3>
<h5 id="interface-description">Interface Description</h5>
<pre><code class="lang-java"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">startSOSAlarmWithHomeId</span><span class="hljs-params">(SosAlarmType type,ITuyaResultCallback&lt;Boolean&gt; callback)</span>
</span></code></pre>
<table>
<thead>
<tr>
<th>parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>type</td>
<td>SOS alarm type</td>
</tr>
</tbody>
</table>
<h5 id="sample-code">Sample code</h5>
<pre><code class="lang-java">mTuyaSecurityBaseSdk.newArmedInstance(mHomeId).startSOSAlarmWithHomeId(SosAlarmType.SOS_FIRE,object :ITuyaResultCallback&lt;Boolean&gt;{
    <span class="hljs-function">override fun <span class="hljs-title">onSuccess</span><span class="hljs-params">(result: Boolean?)</span> </span>{
        <span class="hljs-comment">// do something</span>
    }

    <span class="hljs-function">override fun <span class="hljs-title">onError</span><span class="hljs-params">(errorCode: String?, errorMessage: String?)</span> </span>{
        <span class="hljs-comment">// do something</span>
    }
})
</code></pre>
<h3 id="query-bypass-device">Query bypass device</h3>
<h5 id="interface-description">Interface Description</h5>
<pre><code class="lang-java"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">queryLocationBypssDevicesWithHomeId</span><span class="hljs-params">(ITuyaResultCallback&lt;ArrayList&lt;BypassDetailBean&gt;&gt; callback)</span>
</span></code></pre>
<h5 id="parameter-description">Parameter Description</h5>
<p>no</p>
<h5 id="sample-code">Sample code</h5>
<pre><code class="lang-java">mTuyaSecurityBaseSdk.newArmedInstance(mHomeId).queryLocationBypssDevicesWithHomeId(object :ITuyaResultCallback&lt;ArrayList&lt;BypassDetailBean&gt;&gt;{
    <span class="hljs-function">override fun <span class="hljs-title">onSuccess</span><span class="hljs-params">(result: ArrayList&lt;BypassDetailBean&gt;?)</span> </span>{
        <span class="hljs-comment">// do something</span>
    }

    <span class="hljs-function">override fun <span class="hljs-title">onError</span><span class="hljs-params">(errorCode: String?, errorMessage: String?)</span> </span>{
        <span class="hljs-comment">// do something</span>
    }
})
</code></pre>
<h3 id="get-device-exception-information-home-page-interface">Get device exception information (home page interface)</h3>
<h5 id="interface-description">Interface Description</h5>
<pre><code class="lang-java"> <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">queryLocationAbnormalDevicesWithHomeId</span><span class="hljs-params">(ITuyaResultCallback&lt;ArrayList&lt;DpAbnormalBean&gt;&gt; callback)</span>
</span></code></pre>
<h5 id="parameter-description">Parameter Description</h5>
<p>no</p>
<h5 id="sample-code">Sample code</h5>
<pre><code class="lang-java">mTuyaSecurityBaseSdk.newArmedInstance(mHomeId).queryLocationAbnormalDevicesWithHomeId(object :ITuyaResultCallback&lt;ArrayList&lt;DpAbnormalBean&gt;&gt;{
    <span class="hljs-function">override fun <span class="hljs-title">onSuccess</span><span class="hljs-params">(result: ArrayList&lt;DpAbnormalBean&gt;?)</span> </span>{
        <span class="hljs-comment">// do something</span>
    }

    <span class="hljs-function">override fun <span class="hljs-title">onError</span><span class="hljs-params">(errorCode: String?, errorMessage: String?)</span> </span>{
        <span class="hljs-comment">// do something</span>
    }
})
</code></pre>
<h3 id="query-ignore-devices-each-gateway">Query ignore devices (each gateway)</h3>
<h5 id="interface-description">Interface Description</h5>
<pre><code class="lang-java"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">queryIgnoreDeviceFromGateway</span><span class="hljs-params">(String deviceId, ArmModeStatus mode, ITuyaResultCallback&lt;Boolean&gt; callback)</span>
</span></code></pre>
<h5 id="parameter-description">Parameter Description</h5>
<table>
<thead>
<tr>
<th>parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>deviceId</td>
<td>Gateway device ID</td>
</tr>
<tr>
<td>mode</td>
<td>Current gateway status</td>
</tr>
</tbody>
</table>
<h5 id="sample-code">Sample code</h5>
<pre><code class="lang-java">mTuyaSecurityBaseSdk.newGatewayInstance(mHomeId).queryIgnoreDeviceFromGateway(deviceId, ArmModeStatus.LEAVING,object :ITuyaResultCallback&lt;Boolean&gt;{
        <span class="hljs-function">override fun <span class="hljs-title">onSuccess</span><span class="hljs-params">(result: Boolean?)</span> </span>{
            <span class="hljs-comment">// do something</span>
        }

        <span class="hljs-function">override fun <span class="hljs-title">onError</span><span class="hljs-params">(errorCode: String?, errorMessage: String?)</span> </span>{
            <span class="hljs-comment">// do something</span>
        }
    })
</code></pre>
<h5 id="trigger-interface-callback">Trigger interface callback</h5>
<p>When getting ignored devices from the gateway, it will trigger the ITuyaGatewayListener.onIgnoreDeviceFromGateway() callback to get the JSON array ID set of the devices ignored by the current gateway</p>
<pre><code class="lang-java">mTuyaGatewayListener.onIgnoreDeviceFromGateway(jsonArray)
</code></pre>
<h3 id="get-home-alarm-status-called-at-startup-including-alarm-countdown-information">Get home alarm status (called at startup, including alarm countdown information)</h3>
<h5 id="interface-description">Interface Description</h5>
<pre><code class="lang-java"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">getHomeAlarmStateWithHomeId</span><span class="hljs-params">(ITuyaResultCallback&lt;HomeInfoBean&gt; callback)</span>
</span></code></pre>
<h5 id="parameter-description">Parameter Description</h5>
<p>no</p>
<h5 id="sample-code">Sample code</h5>
<pre><code class="lang-java">mTuyaSecurityBaseSdk.newArmedInstance(mHomeId).getHomeAlarmStateWithHomeId(object : ITuyaResultCallback&lt;HomeInfoBean?&gt; {
        <span class="hljs-function">override fun <span class="hljs-title">onSuccess</span><span class="hljs-params">(result: HomeInfoBean?)</span> </span>{
            <span class="hljs-comment">// do something</span>
        }

        <span class="hljs-function">override fun <span class="hljs-title">onError</span><span class="hljs-params">(errorCode: String, errorMessage: String)</span> </span>{
            <span class="hljs-comment">// do something</span>
        }
    })
</code></pre>
<h3 id="error-callback">Error callback</h3>
<h5 id="interface-description">Interface Description</h5>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">ITuyaErrorListener</span> </span>{

    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">handlerError</span><span class="hljs-params">(TYSecurityModeErrorType errorType, String errorMsg)</span></span>;
}
</code></pre>
<h5 id="register-to-listen">Register to listen</h5>
<pre><code class="lang-java">mTuyaSecurityBaseSdk.newGatewayInstance(mHomeId).registerHandleErrorListener(mHandleErrorListener);
</code></pre>
<h3 id="set-gateway-voice-password">Set gateway voice password</h3>
<h5 id="interface-description">Interface Description</h5>
<pre><code class="lang-java"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setGatewayVoicePasswordWithHomeId</span><span class="hljs-params">(Integer type, String password, ITuyaResultCallback&lt;Boolean&gt; callback)</span>
</span></code></pre>
<table>
<thead>
<tr>
<th>parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>type</td>
<td>Setting type (1: family dimension; 2: gateway dimension)</td>
</tr>
<tr>
<td>password</td>
<td>Voice password</td>
</tr>
</tbody>
</table>
<h5 id="sample-code">Sample code</h5>
<pre><code class="lang-java">mTuyaSecurityBaseSdk.newArmedInstance(mHomeId).setGatewayVoicePasswordWithHomeId(type, password, object : ITuyaResultCallback&lt;Boolean?&gt; {
        <span class="hljs-function">override fun <span class="hljs-title">onSuccess</span><span class="hljs-params">(result: Boolean?)</span> </span>{
            <span class="hljs-comment">// do something</span>
        }

        <span class="hljs-function">override fun <span class="hljs-title">onError</span><span class="hljs-params">(errorCode: String, errorMessage: String)</span> </span>{
            <span class="hljs-comment">// do something</span>
        }
    })
</code></pre>
<h3 id="get-the-home-gateway-voice-password-is-set">Get the home gateway voice password is set</h3>
<h5 id="interface-description">Interface Description</h5>
<pre><code class="lang-java"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">getGatewayVoicePasswordStateWithHomeId</span><span class="hljs-params">(Integer type, ITuyaResultCallback&lt;String&gt; callback)</span>
</span></code></pre>
<table>
<thead>
<tr>
<th>parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>type</td>
<td>Setting type (1: family dimension; 2: gateway dimension)</td>
</tr>
</tbody>
</table>
<h5 id="sample-code">Sample code</h5>
<pre><code class="lang-java">mTuyaSecurityBaseSdk.newArmedInstance(mHomeId).getGatewayVoicePasswordStateWithHomeId(type, object : ITuyaResultCallback&lt;String?&gt; {
            <span class="hljs-function">override fun <span class="hljs-title">onSuccess</span><span class="hljs-params">(result: String?)</span> </span>{
                <span class="hljs-comment">// do something</span>
            }

            <span class="hljs-function">override fun <span class="hljs-title">onError</span><span class="hljs-params">(errorCode: String, errorMessage: String)</span> </span>{
                <span class="hljs-comment">// do something</span>
            }
        })
</code></pre>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="../" class="navigation navigation-prev " aria-label="Previous page: Tuya Security Skills">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="../modesetting/ModeSetting.html" class="navigation navigation-next " aria-label="Next page: Mode settings">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Arm & disarm","level":"1.8.1","depth":2,"next":{"title":"Mode settings","level":"1.8.2","depth":2,"path":"base/modesetting/ModeSetting.md","ref":"base/modesetting/ModeSetting.md","articles":[]},"previous":{"title":"Tuya Security Skills","level":"1.8","depth":1,"path":"base/README.md","ref":"base/README.md","articles":[{"title":"Arm & disarm","level":"1.8.1","depth":2,"path":"base/armed/Armed.md","ref":"base/armed/Armed.md","articles":[]},{"title":"Mode settings","level":"1.8.2","depth":2,"path":"base/modesetting/ModeSetting.md","ref":"base/modesetting/ModeSetting.md","articles":[]},{"title":"Emergency Contact","level":"1.8.3","depth":2,"path":"base/emergency/Emergency.md","ref":"base/emergency/Emergency.md","articles":[]},{"title":"Alarm","level":"1.8.4","depth":2,"path":"base/alarm/Alarm.md","ref":"base/alarm/Alarm.md","articles":[]}]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["livereload"],"pluginsConfig":{"livereload":{},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"base/armed/Armed.md","mtime":"2020-08-01T09:27:24.000Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2020-08-03T02:16:52.286Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-livereload/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

